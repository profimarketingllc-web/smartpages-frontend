---
---
<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SmartPages – Login</title>

    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet" />

    <style>
      :root {
        --brand-navy: #1e2a45;
        --brand-red: #c53a3a;
        --brand-light: #efa0a0;
        --surface: #f9f9f9;
        --text-dark: #1a1a1a;
        --success: #2a9d8f;
        --error: #d62828;
        --radius: 6px;
        --shadow: 0 4px 16px rgba(0,0,0,0.08);
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: "Montserrat", Arial, sans-serif;
        background: var(--surface);
        color: var(--text-dark);
        margin: 0;
        padding: 0;
      }

      header {
        background: var(--brand-navy);
        color: white;
        padding: 1rem 2rem;
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      header img {
        height: 40px;
      }

      main {
        max-width: 1100px;
        margin: 2rem auto;
        background: white;
        border-radius: 16px;
        box-shadow: var(--shadow);
        padding: 3rem;
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2.5rem;
      }

      h1 {
        font-size: 2rem;
        color: var(--brand-navy);
        margin-top: 0;
      }

      p {
        line-height: 1.6;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }

      label {
        font-weight: 600;
        color: var(--brand-navy);
      }

      input[type="text"],
      input[type="email"] {
        padding: 0.8rem;
        border: 1px solid #ccc;
        border-radius: var(--radius);
        font-size: 1rem;
        font-family: inherit;
      }

      input[type="checkbox"] {
        margin-right: 0.5rem;
      }

      button {
        background: var(--brand-red);
        color: white;
        border: none;
        padding: 0.9rem;
        font-size: 1rem;
        font-weight: 600;
        border-radius: var(--radius);
        cursor: pointer;
        transition: background 0.2s ease;
      }

      button:hover {
        background: var(--brand-light);
      }

      .popup {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 1rem 1.5rem;
        border-radius: var(--radius);
        color: white;
        font-weight: 600;
        z-index: 100;
      }

      .popup.success { background: var(--success); }
      .popup.error { background: var(--error); }

      footer {
        text-align: center;
        padding: 2rem 1rem;
        font-size: 0.9rem;
        color: #666;
      }

      @media (max-width: 900px) {
        main {
          grid-template-columns: 1fr;
          padding: 2rem;
        }
      }
    </style>
  </head>

  <body>
    <header>
      <img src="/SmartPages_icon_transparent.png" alt="SmartPages Logo" />
      <strong>SmartPages</strong>
    </header>

    <main>
      <section>
        <h1>Willkommen bei SmartPages</h1>
        <p>
          Fordere deinen persönlichen <strong>Magic-Link</strong> an und starte direkt mit deinem Dashboard.
          Wir benötigen nur ein paar Basisdaten, damit dein Zugang korrekt zugeordnet werden kann.
        </p>
        <p>
          Du kannst wählen, ob du SmartPages privat oder als Unternehmen nutzt.
          Der Zugang bleibt in beiden Fällen kostenlos in der Testphase.
        </p>
      </section>

      <section>
        <form id="loginForm">
          <label>Vorname*</label>
          <input type="text" name="first_name" required />

          <label>Nachname</label>
          <input type="text" name="last_name" />

          <label>E-Mail-Adresse*</label>
          <input type="email" name="email" required />

          <label>
            <input type="checkbox" name="is_business" value="1" />
            Das ist ein Firmenkonto (Business)
          </label>

          <button type="submit">Magic-Link senden</button>
        </form>
      </section>
    </main>

    <div id="popup" class="popup"></div>

    <footer>
      <p>© 2025 SmartPages · Profi Marketing LLC · DSGVO-konform in Europa gehostet</p>
    </footer>

    <script>
      const form = document.getElementById("loginForm");
      const popup = document.getElementById("popup");

      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const data = {
          first_name: form.first_name.value.trim(),
          last_name: form.last_name.value.trim(),
          email: form.email.value.trim(),
          is_business: form.is_business.checked ? 1 : 0,
        };

        popup.textContent = "Magic-Link wird gesendet...";
        popup.className = "popup";
        popup.style.display = "block";
        popup.style.background = "#555";

        try {
          const res = await fetch("https://smartcore-worker.profi-marketing.com/api/auth/start", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const json = await res.json();

          if (json.ok) {
            popup.textContent = "Magic-Link wurde erfolgreich gesendet!";
            popup.className = "popup success";
          } else {
            popup.textContent = "Fehler: " + (json.message || json.error);
            popup.className = "popup error";
          }
        } catch (err) {
          popup.textContent = "Verbindungsfehler. Bitte später erneut versuchen.";
          popup.className = "popup error";
        }

        setTimeout(() => (popup.style.display = "none"), 4000);
      });
    </script>
  </body>
</html>

